{% extends 'app/base.html' %}
{% load static %}

{% block styles %}
<link rel="stylesheet" href="{% static 'css/enrollment/enrollment_create.css' %}">
{% endblock %}

{% block content %}
<div class="enrollment-create-wrapper">
    <div class="enrollment-create-form-box">
        <h2 class="blue">Create Enrollment</h2>
        <form id="enrollmentCreateForm">
            <div class="enrollment-form-group">
                <label for="section">Section</label>
                <select id="sectionDropdown" name="section">
                    <option value="">Select section...</option>
                    <!-- Will be filled dynamically -->
                </select>
            </div>

            <div class="enrollment-form-group">
                <label for="student">Student</label>
                <select id="student" name="student" disabled>
                    <option value="">Select student...</option>
                    <!-- Filled dynamically -->
                </select>
            </div>

            <div class="enrollment-form-group">
                <label for="subject">Subject</label>
                <select id="subject" name="subject">
                    <option value="">Select subject...</option>
                    <!-- Filled dynamically -->
                </select>
            </div>

            <div class="enrollment-checkbox-group">
                <input type="checkbox" id="is_active" name="is_active" checked>
                <label for="is_active">Active Enrollment</label>
            </div>

            <p id="enrollment-warning" class="enrollment-warning">
                This student is already enrolled in the selected subject.
            </p>

            <div class="enrollment-button-group">
                <button type="submit" id="submitEnrollment" disabled>Create Enrollment</button>
                <button type="button" id="cancelBtn">Cancel</button>
            </div>
        </form>
    </div>
</div>
{{ section_choices|json_script:"sectionChoices" }}
{% endblock %}

{% block scripts %}
<script src="{% static 'js/config.js' %}"></script>
<script src="{% static 'js/enrollment/enrollment_create.js' %}"></script>
<script>
    const sectionChoices = JSON.parse(document.getElementById('sectionChoices').textContent);
</script>
{% endblock %}
